#include "pg.h"

static const unsigned short	num_16[10][16] =
{
0x1e00,
0x3300,
0x6180,
0x6180,
0xe1c0,
0xe1c0,
0xe1c0,
0xe1c0,
0xe1c0,
0xe1c0,
0xe1c0,
0xe1c0,
0x6180,
0x6180,
0x3300,
0x1e00,

0x0600,
0x0e00,
0x1e00,
0x7e00,
0x0e00,
0x0e00,
0x0e00,
0x0e00,
0x0e00,
0x0e00,
0x0e00,
0x0e00,
0x0e00,
0x0e00,
0x0e00,
0x3f80,

0x1e00,
0x3f00,
0x7f80,
0x4780,
0x0380,
0x0380,
0x0300,
0x0300,
0x0600,
0x0600,
0x0c00,
0x1800,
0x1040,
0x3fc0,
0x7fc0,
0xff80,

0x0e00,
0x3f80,
0x6780,
0x0380,
0x0300,
0x0700,
0x0f80,
0x0780,
0x03c0,
0x01c0,
0x01c0,
0x01c0,
0xc180,
0xf380,
0xff00,
0x7c00,

0x0180,
0x0180,
0x0380,
0x0780,
0x0b80,
0x1380,
0x1380,
0x2380,
0x4380,
0x8380,
0xffc0,
0xffc0,
0x0380,
0x0380,
0x0380,
0x0380,

0x1fc0,
0x3fc0,
0x3f80,
0x2000,
0x7800,
0x7e00,
0xff80,
0x0f80,
0x03c0,
0x01c0,
0x00c0,
0x00c0,
0x0080,
0xe080,
0xf100,
0x7e00,

0x0380,
0x0700,
0x1c00,
0x3800,
0x7800,
0x7000,
0xff00,
0xf380,
0xe1c0,
0xe1c0,
0xe1c0,
0xe1c0,
0xe1c0,
0x7180,
0x3380,
0x1e00,

0x7fc0,
0x7fc0,
0xff80,
0x8180,
0x8180,
0x0300,
0x0300,
0x0600,
0x0600,
0x0600,
0x0c00,
0x0c00,
0x0c00,
0x1800,
0x1800,
0x1800,

0x1f00,
0x7380,
0xe1c0,
0xe1c0,
0xe1c0,
0xf180,
0x7f00,
0x3f00,
0x3f80,
0x6780,
0xe3c0,
0xe1c0,
0xe1c0,
0xe180,
0x7380,
0x3e00,

0x1e00,
0x7300,
0x6380,
0xe180,
0xe1c0,
0xe1c0,
0xe1c0,
0xe1c0,
0x71c0,
0x3f80,
0x0380,
0x0380,
0x0700,
0x0e00,
0x3800,
0xe000
};


void put_num16(int x, int y, char n, int col, int backcol, int fill)
{
	unsigned short	*vr;
	unsigned short	pt;
	unsigned short	*fnt;
	int x1,y1;
	const	unsigned short bm[12]={0x8000,0x4000,0x2000,0x1000, 0x0800,0x0400,0x0200,0x0100, 0x0080,0x0040,0x0020,0x0010};
	
	fnt = (unsigned short*)num_16[n];
	vr = (unsigned short *)pgGetVramAddr(x,y);
	for(y1=0;y1<16;y1++) {
		pt = *fnt++;
		for(x1=0;x1<12;x1++) {
			if (pt & bm[x1]) {
				*vr = col;
			} else {
				if (fill) *vr = backcol;
			}
			vr++;
		}
		vr += LINESIZE-12;
	}
}

void print_num16(int x,int y,unsigned char *str,int col,int backcol,int fill)
{
	int	i=0;
	
	while(str[i])
	{
		if ((str[i]>='0')&&(str[i]<='9'))
			put_num16(x+i*12,y, str[i]&0x0F, col, backcol, fill);
		i++;
	}
}
